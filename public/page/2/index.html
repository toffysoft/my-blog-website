<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.143.0"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Toffysoft&#39;s Blog</title>

<meta name="description" content="Toffysoft - https://github.com/toffysoft">
<meta name="author" content="Toffysoft">
<link rel="canonical" href="http://localhost:1313/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.2d6240e602c0dc461084f6be8e56c708e5e1efe1df0e71e2e8d12c0b5b8047a9.css" integrity="sha256-LWJA5gLA3EYQhPa&#43;jlbHCOXh7&#43;HfDnHi6NEsC1uAR6k=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/index.xml">
<link rel="alternate" type="application/json" href="http://localhost:1313/index.json">
<link rel="alternate" hreflang="en" href="http://localhost:1313/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:url" content="http://localhost:1313/">
  <meta property="og:site_name" content="Toffysoft&#39;s Blog">
  <meta property="og:title" content="Toffysoft&#39;s Blog">
  <meta property="og:description" content="Toffysoft - https://github.com/toffysoft">
  <meta property="og:locale" content="th-th">
  <meta property="og:type" content="website">
      <meta property="og:image" content="http://localhost:1313/images/papermod-cover.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png">
<meta name="twitter:title" content="Toffysoft&#39;s Blog">
<meta name="twitter:description" content="Toffysoft - https://github.com/toffysoft">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Toffysoft's Blog",
  "url": "http://localhost:1313/",
  "description": "Toffysoft - https://github.com/toffysoft",
  "logo": "http://localhost:1313/favicon.ico",
  "sameAs": [
      "https://github.com/toffysoft", "https://www.linkedin.com/in/apiwat-ruangkanjanapaisarn-16914339/", "https://www.facebook.com/toffysoft"
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Toffysoft (Alt + H)">
                        
                    <img src="http://localhost:1313/images/toffysoft_hu_7003f3165263a7ac.jpeg" alt="" aria-label="logo"
                        height="35">Toffysoft</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
<figure class="entry-cover"><img loading="lazy" src="https://raw.githubusercontent.com/ksm26/AI-Agentic-Design-Patterns-with-AutoGen/main/images/l1.png" alt="Image from (https://github.com/ksm26/AI-Agentic-Design-Patterns-with-AutoGen)">
</figure>
  <header class="entry-header">
    <h2 class="entry-hint-parent">ทำความรู้จักกับ Agentic Design Patterns: รูปแบบการออกแบบ AI ที่ช่วยให้ระบบทำงานได้อย่างชาญฉลาด
    </h2>
  </header>
  <div class="entry-content">
    <p>ในยุคที่ AI กำลังเข้ามามีบทบาทสำคัญในชีวิตประจำวันของเรามากขึ้น การออกแบบระบบ AI ให้สามารถทำงานได้อย่างชาญฉลาดและมีประสิทธิภาพจึงเป็นเรื่องที่สำคัญมาก หนึ่งในแนวคิดที่น่าสนใจคือ “Agentic Design Patterns” หรือรูปแบบการออกแบบที่ช่วยให้ระบบ AI สามารถคิด ตัดสินใจ และทำงานได้อย่างอิสระ มาทำความรู้จักกับแนวคิดนี้กันให้ลึกซึ้งยิ่งขึ้น
Agentic Design Patterns คืออะไร? Agentic Design Patterns เป็นแนวทางการออกแบบที่ใช้ในการสร้างระบบ AI ที่สามารถทำงานได้อย่างอิสระ (Autonomous) โดยไม่ต้องพึ่งพาการควบคุมจากมนุษย์ตลอดเวลา รูปแบบการออกแบบเหล่านี้ช่วยกำหนดวิธีการที่ระบบ AI จะคิด ตัดสินใจ และมีปฏิสัมพันธ์กับสภาพแวดล้อม รวมถึงระบบอื่นๆ เพื่อให้บรรลุเป้าหมายที่ต้องการ
รูปแบบการออกแบบที่น่าสนใจ 1. ReACT - การผสมผสานระหว่างการคิดและการกระทำ ReACT (Reasoning and Acting) เป็นรูปแบบที่น่าสนใจมาก เพราะจำลองการทำงานคล้ายกับวิธีที่มนุษย์เราคิดและตัดสินใจ โดยระบบจะ:
วิเคราะห์สถานการณ์และคิดหาทางแก้ไข ลงมือทำตามแผนที่วางไว้ ประเมินผลลัพธ์และปรับปรุงการตัดสินใจในรอบถัดไป ตัวอย่างที่เห็นได้ชัดคือ ระบบวางแผนการเดินทาง ที่จะสลับไปมาระหว่างการค้นหาเที่ยวบิน (การคิด) และการจองตั๋ว (การกระทำ) โดยปรับเปลี่ยนแผนตามราคาและความพร้อมของเที่ยวบินที่พบ
ตัวอย่าง ReACT from typing import Dict, List, Tuple, TypedDict, Annotated from datetime import datetime, timedelta import json from langgraph.graph import StateGraph, END from langchain_core.messages import HumanMessage, AIMessage from langchain.chat_models import ChatOpenRouter import os # Define our state structure class AgentState(TypedDict): messages: List[str] current_plan: Dict flight_data: Dict booking_status: str next_action: str # Mock flight database MOCK_FLIGHTS = { &#34;BKK-NRT&#34;: [ {&#34;flight&#34;: &#34;TG676&#34;, &#34;departure&#34;: &#34;10:30&#34;, &#34;arrival&#34;: &#34;18:45&#34;, &#34;price&#34;: 15000}, {&#34;flight&#34;: &#34;JL708&#34;, &#34;departure&#34;: &#34;08:00&#34;, &#34;arrival&#34;: &#34;15:30&#34;, &#34;price&#34;: 18000}, ], &#34;NRT-BKK&#34;: [ {&#34;flight&#34;: &#34;TG677&#34;, &#34;departure&#34;: &#34;19:30&#34;, &#34;arrival&#34;: &#34;00:45&#34;, &#34;price&#34;: 16000}, {&#34;flight&#34;: &#34;JL709&#34;, &#34;departure&#34;: &#34;16:30&#34;, &#34;arrival&#34;: &#34;22:00&#34;, &#34;price&#34;: 17000}, ] } # Initialize OpenRouter LLM llm = ChatOpenRouter( api_key=os.environ[&#34;OPENROUTER_API_KEY&#34;], model=&#34;openai/gpt-4-turbo&#34;, # หรือใช้โมเดลอื่นที่ OpenRouter รองรับ temperature=0, headers={ &#34;HTTP-Referer&#34;: &#34;http://localhost:8000&#34;, # your website URL &#34;X-Title&#34;: &#34;Flight Booking Assistant&#34; # your app name } ) def reasoning_step(state: AgentState) -&gt; AgentState: &#34;&#34;&#34; Analyze the current situation and plan next steps &#34;&#34;&#34; # Create a prompt for the LLM to analyze the situation messages = [ HumanMessage(content=f&#34;&#34;&#34; Current situation: - Planning status: {state[&#39;current_plan&#39;]} - Available flight data: {state[&#39;flight_data&#39;]} - Booking status: {state[&#39;booking_status&#39;]} What should be the next action? Choose from: 1. SEARCH_FLIGHTS - If we need to look for flights 2. BOOK_FLIGHT - If we found a suitable flight and should book it 3. END - If we&#39;ve completed the booking Provide your reasoning and the next action. &#34;&#34;&#34;) ] # Get LLM response response = llm.invoke(messages) # Extract next action from response if &#34;SEARCH_FLIGHTS&#34; in response.content: state[&#34;next_action&#34;] = &#34;SEARCH_FLIGHTS&#34; elif &#34;BOOK_FLIGHT&#34; in response.content: state[&#34;next_action&#34;] = &#34;BOOK_FLIGHT&#34; elif &#34;END&#34; in response.content: state[&#34;next_action&#34;] = &#34;END&#34; state[&#34;messages&#34;].append(f&#34;Reasoning: {response.content}&#34;) return state def search_flights(state: AgentState) -&gt; AgentState: &#34;&#34;&#34; Search for available flights based on the current plan &#34;&#34;&#34; route = f&#34;{state[&#39;current_plan&#39;][&#39;origin&#39;]}-{state[&#39;current_plan&#39;][&#39;destination&#39;]}&#34; if route in MOCK_FLIGHTS: state[&#34;flight_data&#34;] = MOCK_FLIGHTS[route] state[&#34;messages&#34;].append(f&#34;Found {len(MOCK_FLIGHTS[route])} flights for {route}&#34;) else: state[&#34;flight_data&#34;] = {} state[&#34;messages&#34;].append(f&#34;No flights found for {route}&#34;) return state def book_flight(state: AgentState) -&gt; AgentState: &#34;&#34;&#34; Attempt to book the selected flight &#34;&#34;&#34; if state[&#34;flight_data&#34;]: # Find the cheapest flight selected_flight = min(state[&#34;flight_data&#34;], key=lambda x: x[&#34;price&#34;]) state[&#34;booking_status&#34;] = &#34;CONFIRMED&#34; state[&#34;messages&#34;].append( f&#34;Booked flight {selected_flight[&#39;flight&#39;]} for {selected_flight[&#39;price&#39;]} THB&#34; ) else: state[&#34;booking_status&#34;] = &#34;FAILED&#34; state[&#34;messages&#34;].append(&#34;Booking failed - no flights available&#34;) return state def router(state: AgentState) -&gt; str: &#34;&#34;&#34; Route to the next step based on the reasoning outcome &#34;&#34;&#34; return state[&#34;next_action&#34;] # Create the graph workflow = StateGraph(AgentState) # Add nodes workflow.add_node(&#34;reasoning&#34;, reasoning_step) workflow.add_node(&#34;search_flights&#34;, search_flights) workflow.add_node(&#34;book_flight&#34;, book_flight) # Add edges workflow.add_edge(&#34;reasoning&#34;, router) workflow.add_edge(&#34;search_flights&#34;, &#34;reasoning&#34;) workflow.add_edge(&#34;book_flight&#34;, &#34;reasoning&#34;) # Set entry point workflow.set_entry_point(&#34;reasoning&#34;) # Create conditional edges workflow.add_conditional_edges( &#34;reasoning&#34;, router, { &#34;SEARCH_FLIGHTS&#34;: &#34;search_flights&#34;, &#34;BOOK_FLIGHT&#34;: &#34;book_flight&#34;, &#34;END&#34;: END } ) # Example usage if __name__ == &#34;__main__&#34;: # Initialize state initial_state = { &#34;messages&#34;: [], &#34;current_plan&#34;: { &#34;origin&#34;: &#34;BKK&#34;, &#34;destination&#34;: &#34;NRT&#34;, &#34;date&#34;: &#34;2025-02-15&#34; }, &#34;flight_data&#34;: {}, &#34;booking_status&#34;: &#34;NOT_STARTED&#34;, &#34;next_action&#34;: &#34;SEARCH_FLIGHTS&#34; } # Run the workflow app = workflow.compile() for output in app.stream(initial_state): print(&#34;\nStep Output:&#34;) print(json.dumps(output, indent=2)) ...</p>
  </div>
  <footer class="entry-footer"><span title='2025-02-06 00:00:00 +0000 UTC'>February 6, 2025</span>&nbsp;·&nbsp;64 min&nbsp;·&nbsp;Apiwat Ruangkanjanapaisarn</footer>
  <a class="entry-link" aria-label="post link to ทำความรู้จักกับ Agentic Design Patterns: รูปแบบการออกแบบ AI ที่ช่วยให้ระบบทำงานได้อย่างชาญฉลาด" href="http://localhost:1313/posts/agentic-ai/agentic-design-patterns/"></a>
</article>

<article class="post-entry"> 
<figure class="entry-cover"><img loading="lazy" src="https://www.kdnuggets.com/wp-content/uploads/awan_deepseekr1_locally_4.png" alt="Image from (https://www.kdnuggets.com/using-deepseek-r1-locally)">
</figure>
  <header class="entry-header">
    <h2 class="entry-hint-parent">ลองเล่น Deepseek-R1 และสร้าง AI Agent ด้วย Langgraph
    </h2>
  </header>
  <div class="entry-content">
    <p>ในบทความนี้เราจะมาทดลองสร้าง AI Agent ที่สามารถโต้ตอบกับฐานข้อมูล SQLite โดยใช้ Deepseek-R1 ซึ่งเป็น Open Source Language Model ร่วมกับ Langgraph ซึ่งเป็นเครื่องมือสำหรับสร้าง AI workflows แบบใหม่จาก LangChain
โครงสร้างของโปรเจค โปรเจคของเราประกอบด้วยไฟล์หลัก 2 ไฟล์:
setup.py - สำหรับสร้างและจัดการฐานข้อมูล SQLite agent.py - สำหรับสร้าง AI Agent ที่จะโต้ตอบกับฐานข้อมูล การสร้างฐานข้อมูล เริ่มต้นจาก setup.py ที่ใช้สร้างฐานข้อมูลสินค้าตัวอย่าง โดยมีตาราง products ที่เก็บข้อมูลต่างๆ เช่น:
id (PRIMARY KEY) name price category stock description last_updated โค้ดส่วนนี้จะสร้างฐานข้อมูลพร้อมข้อมูลตัวอย่างกว่า 100 รายการ แบ่งเป็นหมวดหมู่ต่างๆ เช่น Smartphones, Laptops, TVs, Audio เป็นต้น
# setup.py import sqlite3 import os from datetime import datetime def init_database(): try: db_path = os.path.join(os.path.dirname(__file__), &#39;products.db&#39;) conn = sqlite3.connect(db_path) cursor = conn.cursor() cursor.execute(&#39;DROP TABLE IF EXISTS products&#39;) cursor.execute(&#39;&#39;&#39; CREATE TABLE IF NOT EXISTS products ( id INTEGER PRIMARY KEY, name TEXT NOT NULL, price REAL NOT NULL, category TEXT NOT NULL, stock INTEGER NOT NULL, description TEXT, last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP ) &#39;&#39;&#39;) cursor.execute(&#39;CREATE INDEX IF NOT EXISTS idx_products_category ON products(category)&#39;) cursor.execute(&#39;CREATE INDEX IF NOT EXISTS idx_products_price ON products(price)&#39;) cursor.execute(&#39;CREATE INDEX IF NOT EXISTS idx_products_stock ON products(stock)&#39;) products_data = [ # Smartphones (1, &#39;iPhone 15 Pro Max&#39;, 48900.00, &#39;Smartphones&#39;, 45, &#39;1TB storage, titanium finish&#39;), (2, &#39;iPhone 15 Pro&#39;, 42900.00, &#39;Smartphones&#39;, 50, &#39;256GB storage, A17 Pro chip&#39;), (3, &#39;iPhone 15&#39;, 32900.00, &#39;Smartphones&#39;, 60, &#39;128GB storage, A16 chip&#39;), (4, &#39;Samsung Galaxy S24 Ultra&#39;, 45900.00, &#39;Smartphones&#39;, 40, &#39;512GB storage, S Pen included&#39;), (5, &#39;Samsung Galaxy S24&#43;&#39;, 35900.00, &#39;Smartphones&#39;, 45, &#39;256GB storage, AI features&#39;), (6, &#39;Samsung Galaxy S24&#39;, 29900.00, &#39;Smartphones&#39;, 55, &#39;128GB storage&#39;), (7, &#39;Google Pixel 8 Pro&#39;, 35900.00, &#39;Smartphones&#39;, 35, &#39;Advanced AI camera features&#39;), (8, &#39;Google Pixel 8&#39;, 27900.00, &#39;Smartphones&#39;, 40, &#39;Android flagship&#39;), (9, &#39;OnePlus 12&#39;, 31900.00, &#39;Smartphones&#39;, 30, &#39;Snapdragon 8 Gen 3&#39;), (10, &#39;Xiaomi 14 Pro&#39;, 29900.00, &#39;Smartphones&#39;, 40, &#39;Leica optics&#39;), # Laptops (11, &#39;MacBook Pro 16&#34;&#39;, 89900.00, &#39;Laptops&#39;, 25, &#39;M3 Max chip, 32GB RAM&#39;), ........ ] cursor.executemany(&#39;&#39;&#39; INSERT OR REPLACE INTO products (id, name, price, category, stock, description) VALUES (?, ?, ?, ?, ?, ?) &#39;&#39;&#39;, products_data) conn.commit() print(&#34;Database initialized successfully!&#34;) return conn except sqlite3.Error as e: print(f&#34;SQLite error: {e}&#34;) return None except Exception as e: print(f&#34;Error: {e}&#34;) return None def main(): conn = init_database() if not conn: print(&#34;Failed to initialize database&#34;) return if __name__ == &#34;__main__&#34;: main() เราสามารถสร้างฐานข้อมูลด้วยคำสั่ง:
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-02-05 00:00:00 +0000 UTC'>February 5, 2025</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;Apiwat Ruangkanjanapaisarn</footer>
  <a class="entry-link" aria-label="post link to ลองเล่น Deepseek-R1 และสร้าง AI Agent ด้วย Langgraph" href="http://localhost:1313/posts/agent-example/"></a>
</article>

<article class="post-entry"> 
<figure class="entry-cover"><img loading="lazy" src="https://ollama.com/public/blog/embedding-models.png" alt="Image from (https://ollama.com/blog/embedding-models)">
</figure>
  <header class="entry-header">
    <h2 class="entry-hint-parent">ลองเล่น Local LLM ด้วย Ollama &#43; Python
    </h2>
  </header>
  <div class="entry-content">
    <p>ลองเล่น Local LLM ด้วย Ollama &#43; Python บทความนี้จะพาทุกคนมาลองใช้งาน LLM บนเครื่องคอมพิวเตอร์ส่วนตัวผ่าน Ollama และ Python เหมาะสำหรับผู้ที่อยากทดลองเล่น AI แต่กังวลเรื่องความเป็นส่วนตัวของข้อมูล หรือต้องการระบบที่ทำงานได้แม้ไม่มีอินเทอร์เน็ต
ที่มาของ Large Language Model (LLM) ในช่วงไม่กี่ปีที่ผ่านมา เราได้เห็นการเติบโตอย่างก้าวกระโดดของ AI โดยเฉพาะในด้านการประมวลผลภาษาธรรมชาติ จุดเปลี่ยนสำคัญเกิดขึ้นเมื่อนักวิจัยพบว่า การสร้างโมเดลขนาดใหญ่และฝึกฝนด้วยข้อมูลมหาศาล ทำให้ AI สามารถเข้าใจและตอบโต้กับมนุษย์ได้อย่างน่าทึ่ง
ปัจจุบันมีบริการ LLM มากมายให้เลือกใช้ เช่น ChatGPT, Claude, Gemini แต่หลายคนอาจกังวลเรื่องความเป็นส่วนตัวของข้อมูล หรือต้องการระบบที่ทำงานได้แม้ไม่มีอินเทอร์เน็ต นั่นคือที่มาของ Local LLM
รู้จักกับ Ollama Ollama เป็นเครื่องมือที่ช่วยให้เราสามารถรัน LLM บนเครื่องคอมพิวเตอร์ส่วนตัวได้อย่างง่ายดาย รองรับโมเดลหลากหลาย เช่น Llama 3, Mistral, CodeLlama โดยมีจุดเด่นคือ:
ติดตั้งง่าย รองรับทั้ง Windows, macOS และ Linux มี API ที่ใช้งานสะดวก ประสิทธิภาพดี ใช้ทรัพยากรเครื่องน้อย รองรับการปรับแต่งโมเดลได้ตามต้องการ การติดตั้ง 1. ติดตั้ง Ollama สำหรับ macOS:
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-02-02 00:00:00 +0000 UTC'>February 2, 2025</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Apiwat Ruangkanjanapaisarn</footer>
  <a class="entry-link" aria-label="post link to ลองเล่น Local LLM ด้วย Ollama &#43; Python" href="http://localhost:1313/posts/ollama-python/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/">
      «&nbsp;Prev&nbsp;1/2
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Toffysoft&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
